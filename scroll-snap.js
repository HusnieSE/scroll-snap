!function(Q,F){"object"==typeof exports&&"object"==typeof module?module.exports=F():"function"==typeof define&&define.amd?define([],F):"object"==typeof exports?exports["scroll-snap"]=F():Q["scroll-snap"]=F()}(window,(function(){return function(Q){var F={};function U(B){if(F[B])return F[B].exports;var n=F[B]={i:B,l:!1,exports:{}};return Q[B].call(n.exports,n,n.exports,U),n.l=!0,n.exports}return U.m=Q,U.c=F,U.d=function(Q,F,B){U.o(Q,F)||Object.defineProperty(Q,F,{enumerable:!0,get:B})},U.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},U.t=function(Q,F){if(1&F&&(Q=U(Q)),8&F)return Q;if(4&F&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var B=Object.create(null);if(U.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:Q}),2&F&&"string"!=typeof Q)for(var n in Q)U.d(B,n,function(F){return Q[F]}.bind(null,n));return B},U.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return U.d(F,"a",F),F},U.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},U.p="",U(U.s=0)}([function(module,exports,__webpack_require__){"use strict";eval("\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar index_1 = __importDefault(__webpack_require__(1));\nfunction callback() {\n    console.log('snap');\n}\nvar baseConfig = {\n    timeout: 100,\n    duration: 300,\n    threshold: 0.2,\n    easing: function (t) { return (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t); },\n};\nvar containerVertical = document.getElementById('container');\nvar snapVertical = new index_1.default(containerVertical, __assign({ snapDestinationY: '90%' }, baseConfig)).bind(callback);\nvar containerHorizontal = document.getElementById('container-horizontal');\nvar snapHorizontal = new index_1.default(containerHorizontal, __assign({ snapDestinationX: '90%' }, baseConfig)).bind(callback);\nwindow.unbind = function () {\n    snapVertical.unbind();\n    snapHorizontal.unbind();\n};\nwindow.bind = function () {\n    snapVertical.bind(callback);\n    snapHorizontal.bind(callback);\n};\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3JvbGwtc25hcC8uL2RlbW8vc3JjL2luZGV4LnRzP2I4ZGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHNEQUF3QztBQUV4QyxTQUFTLFFBQVE7SUFDZixPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztBQUNyQixDQUFDO0FBRUQsSUFBTSxVQUFVLEdBQUc7SUFDakIsT0FBTyxFQUFFLEdBQUc7SUFDWixRQUFRLEVBQUUsR0FBRztJQUNiLFNBQVMsRUFBRSxHQUFHO0lBQ2QsTUFBTSxFQUFFLFVBQUMsQ0FBUyxJQUFLLFFBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBNUMsQ0FBNEM7Q0FDcEU7QUFFRCxJQUFNLGlCQUFpQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDO0FBQzlELElBQU0sWUFBWSxHQUFHLElBQUksZUFBVSxDQUFDLGlCQUFpQixhQUNuRCxnQkFBZ0IsRUFBRSxLQUFLLElBQ3BCLFVBQVUsRUFDYixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7QUFFakIsSUFBTSxtQkFBbUIsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLHNCQUFzQixDQUFDO0FBQzNFLElBQU0sY0FBYyxHQUFHLElBQUksZUFBVSxDQUFDLG1CQUFtQixhQUN2RCxnQkFBZ0IsRUFBRSxLQUFLLElBQ3BCLFVBQVUsRUFDYixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FFaEI7QUFBQyxNQUFjLENBQUMsTUFBTSxHQUFHO0lBQ3hCLFlBQVksQ0FBQyxNQUFNLEVBQUU7SUFDckIsY0FBYyxDQUFDLE1BQU0sRUFBRTtBQUN6QixDQUFDLENBQ0E7QUFBQyxNQUFjLENBQUMsSUFBSSxHQUFHO0lBQ3RCLFlBQVksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQzNCLGNBQWMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO0FBQy9CLENBQUMiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTY3JvbGxTbmFwIGZyb20gJy4uLy4uL3NyYy9pbmRleCdcblxuZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gIGNvbnNvbGUubG9nKCdzbmFwJylcbn1cblxuY29uc3QgYmFzZUNvbmZpZyA9IHtcbiAgdGltZW91dDogMTAwLFxuICBkdXJhdGlvbjogMzAwLFxuICB0aHJlc2hvbGQ6IDAuMixcbiAgZWFzaW5nOiAodDogbnVtYmVyKSA9PiAodCA8IDAuNSA/IDIgKiB0ICogdCA6IC0xICsgKDQgLSAyICogdCkgKiB0KSxcbn1cblxuY29uc3QgY29udGFpbmVyVmVydGljYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJylcbmNvbnN0IHNuYXBWZXJ0aWNhbCA9IG5ldyBTY3JvbGxTbmFwKGNvbnRhaW5lclZlcnRpY2FsLCB7XG4gIHNuYXBEZXN0aW5hdGlvblk6ICc5MCUnLFxuICAuLi5iYXNlQ29uZmlnLFxufSkuYmluZChjYWxsYmFjaylcblxuY29uc3QgY29udGFpbmVySG9yaXpvbnRhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXItaG9yaXpvbnRhbCcpXG5jb25zdCBzbmFwSG9yaXpvbnRhbCA9IG5ldyBTY3JvbGxTbmFwKGNvbnRhaW5lckhvcml6b250YWwsIHtcbiAgc25hcERlc3RpbmF0aW9uWDogJzkwJScsXG4gIC4uLmJhc2VDb25maWcsXG59KS5iaW5kKGNhbGxiYWNrKVxuXG47KHdpbmRvdyBhcyBhbnkpLnVuYmluZCA9ICgpID0+IHtcbiAgc25hcFZlcnRpY2FsLnVuYmluZCgpXG4gIHNuYXBIb3Jpem9udGFsLnVuYmluZCgpXG59XG47KHdpbmRvdyBhcyBhbnkpLmJpbmQgPSAoKSA9PiB7XG4gIHNuYXBWZXJ0aWNhbC5iaW5kKGNhbGxiYWNrKVxuICBzbmFwSG9yaXpvbnRhbC5iaW5kKGNhbGxiYWNrKVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction easeInOutQuad(t) {\n    return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n}\nvar TIMEOUT_MIN = 50;\nvar TIMEOUT_DEFAULT = 100;\nvar DURATION_DEFAULT = 300;\nvar THRESHOLD_DEFAULT = 0.2;\nvar EASING_DEFAULT = easeInOutQuad;\nvar NOOP = function () { };\nvar ScrollSnap = /** @class */ (function () {\n    function ScrollSnap(element, config) {\n        var _this = this;\n        this.animating = false;\n        this.lastScrollValue = {\n            x: 0,\n            y: 0,\n        };\n        this.startAnimation = function () {\n            _this.speedDeltaX = _this.checkScrollSpeed(_this.target.scrollLeft, 'x');\n            _this.speedDeltaY = _this.checkScrollSpeed(_this.target.scrollTop, 'y');\n            if (_this.animating || (_this.speedDeltaX === 0 && _this.speedDeltaY === 0)) {\n                return;\n            }\n            _this.handler(_this.target);\n        };\n        this.animationHandler = function () {\n            // if we don't move a thing, we can ignore the timeout: if we did, there'd be another timeout added for this.scrollStart+1.\n            if (_this.scrollStart.y === _this.target.scrollTop &&\n                _this.scrollStart.x === _this.target.scrollLeft) {\n                // ignore timeout\n                return;\n            }\n            // detect direction of scroll. negative is up, positive is down.\n            var direction = {\n                y: _this.speedDeltaY > 0 ? 1 : -1,\n                x: _this.speedDeltaX > 0 ? 1 : -1,\n            };\n            // get the next snap-point to snap-to\n            var snapPoint = _this.getNextSnapPoint(_this.target, direction);\n            _this.listenerElement.removeEventListener('scroll', _this.startAnimation, false);\n            _this.animating = true;\n            // smoothly move to the snap point\n            _this.smoothScroll(_this.target, snapPoint, function () {\n                // after moving to the snap point, rebind the scroll event handler\n                _this.animating = false;\n                _this.listenerElement.addEventListener('scroll', _this.startAnimation, false);\n                _this.onAnimationEnd();\n            });\n            // we just jumped to the snapPoint, so this will be our next this.scrollStart\n            if (!isNaN(snapPoint.x) || !isNaN(snapPoint.y)) {\n                _this.scrollStart = snapPoint;\n            }\n        };\n        this.element = element;\n        var timeout = config.timeout, duration = config.duration, easing = config.easing, snapDestinationX = config.snapDestinationX, snapDestinationY = config.snapDestinationY, threshold = config.threshold;\n        if (timeout && (isNaN(timeout) || typeof timeout === 'boolean')) {\n            throw new Error(\"Optional config property 'timeout' is not valid, expected NUMBER but found \" + (typeof timeout).toUpperCase());\n        }\n        // any value less then TIMEOUT_MIN may cause weird bahaviour on some devices (especially on mobile with momentum scrolling)\n        this.timeout = timeout && timeout >= TIMEOUT_MIN ? timeout : TIMEOUT_DEFAULT;\n        if (duration && (isNaN(duration) || typeof duration === 'boolean')) {\n            throw new Error(\"Optional config property 'duration' is not valid, expected NUMBER but found \" + (typeof duration).toUpperCase());\n        }\n        this.duration = duration || DURATION_DEFAULT;\n        if (easing && typeof easing !== 'function') {\n            throw new Error(\"Optional config property 'easing' is not valid, expected FUNCTION but found \" + (typeof easing).toUpperCase());\n        }\n        this.easing = easing || EASING_DEFAULT;\n        if (snapDestinationX && typeof snapDestinationX !== 'string') {\n            throw new Error(\"Optional config property 'snapDestinationX' is not valid, expected STRING but found \" + (typeof easing).toUpperCase());\n        }\n        this.snapDestinationX = snapDestinationX;\n        if (snapDestinationY && typeof snapDestinationY !== 'string') {\n            throw new Error(\"Optional config property 'snapDestinationY' is not valid, expected STRING but found \" + (typeof easing).toUpperCase());\n        }\n        this.snapDestinationY = snapDestinationY;\n        if (threshold && (isNaN(threshold) || typeof threshold === 'boolean')) {\n            throw new Error(\"Optional config property 'threshold' is not valid, expected NUMBER but found \" + (typeof threshold).toUpperCase());\n        }\n        this.threshold = threshold || THRESHOLD_DEFAULT;\n    }\n    ScrollSnap.prototype.checkScrollSpeed = function (value, axis) {\n        var _this = this;\n        var clear = function () {\n            _this.lastScrollValue[axis] = null;\n        };\n        var newValue = value;\n        var delta;\n        if (this.lastScrollValue[axis] !== null) {\n            delta = newValue - this.lastScrollValue[axis];\n        }\n        else {\n            delta = 0;\n        }\n        this.lastScrollValue[axis] = newValue;\n        this.scrollSpeedTimer && clearTimeout(this.scrollSpeedTimer);\n        this.scrollSpeedTimer = window.setTimeout(clear, 100);\n        return delta;\n    };\n    ScrollSnap.prototype.saveDeclaration = function (obj) {\n        this.snapLengthUnit = this.parseSnapCoordValue(this.snapDestinationX, this.snapDestinationY);\n    };\n    ScrollSnap.prototype.bindElement = function (element) {\n        this.target = element;\n        this.listenerElement = element === document.documentElement ? window : element;\n        this.listenerElement.addEventListener('scroll', this.startAnimation, false);\n        this.saveDeclaration(this.target);\n    };\n    ScrollSnap.prototype.unbindElement = function () {\n        this.listenerElement.removeEventListener('scroll', this.startAnimation, false);\n    };\n    /**\n     * scroll handler\n     * this is the callback for scroll events.\n     */\n    ScrollSnap.prototype.handler = function (target) {\n        // if currently animating, stop it. this prevents flickering.\n        if (this.animationFrame) {\n            clearTimeout(this.animationFrame);\n        }\n        // if a previous timeout exists, clear it.\n        if (this.scrollHandlerTimer) {\n            // we only want to call a timeout once after scrolling..\n            clearTimeout(this.scrollHandlerTimer);\n        }\n        else {\n            this.scrollStart = {\n                y: target.scrollTop,\n                x: target.scrollLeft,\n            };\n        }\n        this.scrollHandlerTimer = window.setTimeout(this.animationHandler, this.timeout);\n    };\n    ScrollSnap.prototype.getNextSnapPoint = function (target, direction) {\n        // get snap length\n        var snapLength = {\n            y: Math.round(this.getYSnapLength(this.target, this.snapLengthUnit.y)),\n            x: Math.round(this.getXSnapLength(this.target, this.snapLengthUnit.x)),\n        };\n        var top = this.target.scrollTop;\n        var left = this.target.scrollLeft;\n        // calc current and initial snappoint\n        var currentPoint = {\n            y: top / snapLength.y || 1,\n            x: left / snapLength.x || 1,\n        };\n        var nextPoint = {\n            y: 0,\n            x: 0,\n        };\n        /**\n         * Set target and bounds by direction,\n         * if threshold has not been reached, scroll back to currentPoint\n         **/\n        if (this.isAboveThreshold(direction.y, currentPoint.y)) {\n            nextPoint.y = this.roundByDirection(direction.y, currentPoint.y);\n        }\n        else {\n            nextPoint.y = this.roundByDirection(direction.y * -1, currentPoint.y);\n        }\n        if (this.isAboveThreshold(direction.x, currentPoint.x)) {\n            nextPoint.x = this.roundByDirection(direction.x, currentPoint.x);\n        }\n        else {\n            nextPoint.x = this.roundByDirection(direction.x * -1, currentPoint.x);\n        }\n        // calculate where to scroll\n        var scrollTo = {\n            y: nextPoint.y * snapLength.y,\n            x: nextPoint.x * snapLength.x,\n        };\n        // stay in bounds (minimum: 0, maxmimum: absolute height)\n        scrollTo.y = this.stayInBounds(0, target.scrollHeight, scrollTo.y);\n        scrollTo.x = this.stayInBounds(0, target.scrollWidth, scrollTo.x);\n        return scrollTo;\n    };\n    ScrollSnap.prototype.isAboveThreshold = function (direction, currentPoint) {\n        return direction > 0\n            ? currentPoint % 1 > this.threshold\n            : 1 - (currentPoint % 1) > this.threshold;\n    };\n    ScrollSnap.prototype.roundByDirection = function (direction, currentPoint) {\n        if (direction === -1) {\n            // when we go up, we floor the number to jump to the next snap-point in scroll direction\n            return Math.floor(currentPoint);\n        }\n        // go down, we ceil the number to jump to the next in view.\n        return Math.ceil(currentPoint);\n    };\n    ScrollSnap.prototype.stayInBounds = function (min, max, destined) {\n        return Math.max(Math.min(destined, max), min);\n    };\n    ScrollSnap.prototype.parseSnapCoordValue = function (x, y) {\n        // regex to parse lengths\n        var regex = /(\\d+)(px|%|vw|vh)/;\n        // defaults\n        var parsed = {\n            y: {\n                value: 0,\n                unit: 'px',\n            },\n            x: {\n                value: 0,\n                unit: 'px',\n            },\n        };\n        // parse value and unit\n        var resultX = regex.exec(x);\n        var resultY = regex.exec(y);\n        // if regexp fails, value is null\n        if (resultX !== null) {\n            parsed.x = {\n                value: Number(resultX[1]),\n                unit: resultX[2],\n            };\n        }\n        if (resultY !== null) {\n            parsed.y = {\n                value: Number(resultY[1]),\n                unit: resultY[2],\n            };\n        }\n        return parsed;\n    };\n    ScrollSnap.prototype.getYSnapLength = function (obj, declaration) {\n        if (declaration.unit === 'vh') {\n            // when using vh, one snap is the length of vh / 100 * value\n            return ((Math.max(document.documentElement.clientHeight, window.innerHeight || 1) / 100) *\n                declaration.value);\n        }\n        else if (declaration.unit === '%') {\n            // when using %, one snap is the length of element height / 100 * value\n            return (obj.clientHeight / 100) * declaration.value;\n        }\n        else {\n            // when using px, one snap is the length of element height / value\n            return obj.clientHeight / declaration.value;\n        }\n    };\n    ScrollSnap.prototype.getXSnapLength = function (obj, declaration) {\n        if (declaration.unit === 'vw') {\n            // when using vw, one snap is the length of vw / 100 * value\n            return ((Math.max(document.documentElement.clientWidth, window.innerWidth || 1) / 100) *\n                declaration.value);\n        }\n        else if (declaration.unit === '%') {\n            // when using %, one snap is the length of element width / 100 * value\n            return (obj.clientWidth / 100) * declaration.value;\n        }\n        else {\n            // when using px, one snap is the length of element width / value\n            return obj.clientWidth / declaration.value;\n        }\n    };\n    ScrollSnap.prototype.isEdge = function (coords) {\n        return (coords.x === 0 && this.speedDeltaY === 0) || (coords.y === 0 && this.speedDeltaX === 0);\n    };\n    ScrollSnap.prototype.smoothScroll = function (obj, end, callback) {\n        var _this = this;\n        var position = function (start, end, elapsed, duration) {\n            if (elapsed > duration) {\n                return end;\n            }\n            return start + (end - start) * _this.easing(elapsed / duration);\n        };\n        var start = {\n            y: obj.scrollTop,\n            x: obj.scrollLeft,\n        };\n        // get animation frame or a fallback\n        var requestAnimationFrame = window.requestAnimationFrame ||\n            window.webkitRequestAnimationFrame ||\n            function (fn) {\n                return window.setTimeout(fn, 15);\n            };\n        var duration = this.isEdge(start) ? 0 : this.duration;\n        var startTime;\n        // setup the stepping function\n        function step(timestamp) {\n            if (!startTime) {\n                startTime = timestamp;\n            }\n            var elapsed = timestamp - startTime;\n            // change position on y-axis if result is a number.\n            if (!isNaN(end.y)) {\n                obj.scrollTop = position(start.y, end.y, elapsed, duration);\n            }\n            // change position on x-axis if result is a number.\n            if (!isNaN(end.x)) {\n                obj.scrollLeft = position(start.x, end.x, elapsed, duration);\n            }\n            // check if we are over due;\n            if (elapsed < duration) {\n                requestAnimationFrame(step);\n            }\n            else {\n                // is there a callback?\n                if (typeof callback === 'function') {\n                    // stop execution and run the callback\n                    return callback(end);\n                }\n            }\n        }\n        this.animationFrame = requestAnimationFrame(step);\n    };\n    ScrollSnap.prototype.bind = function (callback) {\n        this.onAnimationEnd = typeof callback === 'function' ? callback : NOOP;\n        this.bindElement(this.element);\n        return this;\n    };\n    ScrollSnap.prototype.unbind = function () {\n        this.unbindElement();\n        return this;\n    };\n    return ScrollSnap;\n}());\nexports.default = ScrollSnap;\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3JvbGwtc25hcC8uL3NyYy9pbmRleC50cz9mZmI0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsU0FBUyxhQUFhLENBQUMsQ0FBUztJQUM5QixPQUFPLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQztBQUNuRCxDQUFDO0FBRUQsSUFBTSxXQUFXLEdBQUcsRUFBRTtBQUN0QixJQUFNLGVBQWUsR0FBRyxHQUFHO0FBQzNCLElBQU0sZ0JBQWdCLEdBQUcsR0FBRztBQUM1QixJQUFNLGlCQUFpQixHQUFHLEdBQUc7QUFDN0IsSUFBTSxjQUFjLEdBQUcsYUFBYTtBQUNwQyxJQUFNLElBQUksR0FBRyxjQUFPLENBQUM7QUE0Q3JCO0lBd0JFLG9CQUFZLE9BQW9CLEVBQUUsTUFBK0I7UUFBakUsaUJBK0NDO1FBN0RELGNBQVMsR0FBRyxLQUFLO1FBUVQsb0JBQWUsR0FBVztZQUNoQyxDQUFDLEVBQUUsQ0FBQztZQUNKLENBQUMsRUFBRSxDQUFDO1NBQ0w7UUF5Rk8sbUJBQWMsR0FBRztZQUN2QixLQUFJLENBQUMsV0FBVyxHQUFHLEtBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUM7WUFDckUsS0FBSSxDQUFDLFdBQVcsR0FBRyxLQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDO1lBRXBFLElBQUksS0FBSSxDQUFDLFNBQVMsSUFBSSxDQUFDLEtBQUksQ0FBQyxXQUFXLEtBQUssQ0FBQyxJQUFJLEtBQUksQ0FBQyxXQUFXLEtBQUssQ0FBQyxDQUFDLEVBQUU7Z0JBQ3hFLE9BQU07YUFDUDtZQUVELEtBQUksQ0FBQyxPQUFPLENB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bkQsQ0FBQztJQUVELHlCQUFJLEdBQUosVUFBSyxRQUFxQjtRQUN4QixJQUFJLENBQUMsY0FBYyxHQUFHLE9BQU8sUUFBUSxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJO1FBQ3RFLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUM5QixPQUFPLElBQUk7SUFDYixDQUFDO0lBRUQsMkJBQU0sR0FBTjtRQUNFLElBQUksQ0FBQyxhQUFhLEVBQUU7UUFDcEIsT0FBTyxJQUFJO0lBQ2IsQ0FBQztJQUNILGlCQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZWFzZUluT3V0UXVhZCh0OiBudW1iZXIpIHtcbiAgcmV0dXJuIHQgPCAwLjUgPyAyICogdCAqIHQgOiAtMSArICg0IC0gMiAqIHQpICogdFxufVxuXG5jb25zdCBUSU1FT1VUX01JTiA9IDUwXG5jb25zdCBUSU1FT1VUX0RFRkFVTFQgPSAxMDBcbmNvbnN0IERVUkFUSU9OX0RFRkFVTFQgPSAzMDBcbmNvbnN0IFRIUkVTSE9MRF9ERUZBVUxUID0gMC4yXG5jb25zdCBFQVNJTkdfREVGQVVMVCA9IGVhc2VJbk91dFF1YWRcbmNvbnN0IE5PT1AgPSAoKSA9PiB7fVxuXG5pbnRlcmZhY2UgU2Nyb2xsU25hcENvbmZpZ3VyYXRpb24ge1xuICAvKipcbiAgICogc25hcC1kZXN0aW5hdGlvbiBmb3IgeCBhbmQgeSBheGVzXG4gICAqIHNob3VsZCBiZSBhIHZhbGlkIGNzcyB2YWx1ZSBleHByZXNzZWQgYXMgcHh8JXx2d3x2aFxuICAgKiovXG4gIHNuYXBEZXN0aW5hdGlvblg/OiBzdHJpbmdcbiAgc25hcERlc3RpbmF0aW9uWT86IHN0cmluZ1xuICAvKipcbiAgICogdGltZSBpbiBtcyBhZnRlciB3aGljaCBzY3JvbGxpbmcgaXMgY29uc2lkZXJlZCBmaW5pc2hlZFxuICAgKiovXG4gIHRpbWVvdXQ/OiBudW1iZXJcblxuICAvKipcbiAgICogdGhyZXNob2xkIHRvIHJlYWNoIGJlZm9yZSBzY3JvbGxpbmcgdG8gbmV4dC9wcmV2IGVsZW1lbnQsIGV4cHJlc3NlZCBhcyBhIHBlcmNlbnRhZ2UgaW4gdGhlIHJhbmdlIFswLCAxXVxuICAgKi9cbiAgdGhyZXNob2xkPzogbnVtYmVyXG4gIC8qKlxuICAgKiBkdXJhdGlvbiBpbiBtcyBmb3IgdGhlIHNtb290aCBzbmFwXG4gICAqKi9cbiAgZHVyYXRpb24/OiBudW1iZXJcbiAgLyoqXG4gICAqIGN1c3RvbSBlYXNpbmcgZnVuY3Rpb25cbiAgICogQHBhcmFtIHQgbm9ybWFsaXplZCB0aW1lIHR5cGljYWxseSBpbiB0aGUgcmFuZ2UgWzAsIDFdXG4gICAqKi9cbiAgZWFzaW5nPzogKHQ6IG51bWJlcikgPT4gbnVtYmVyXG59XG5cbmludGVyZmFjZSBTbmFwTGVuZ3RoIHtcbiAgdmFsdWU6IG51bWJlclxuICB1bml0OiBzdHJpbmdcbn1cblxuaW50ZXJmYWNlIFNuYXBDb29yZCB7XG4gIHk6IFNuYXBMZW5ndGhcbiAgeDogU25hcExlbmd0aFxufVxuXG5pbnRlcmZhY2UgQ29vcmRzIHtcbiAgeT86IG51bWJlclxuICB4PzogbnVtYmVyXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjcm9sbFNuYXAge1xuICBzbmFwRGVzdGluYXRpb25YOiBTY3JvbGxTbmFwQ29uZmlndXJhdGlvblsnc25hcERlc3RpbmF0aW9uWCddXG4gIHNuYXBEZXN0aW5hdGlvblk6IFNjcm9sbFNuYXBDb25maWd1cmF0aW9uWydzbmFwRGVzdGluYXRpb25ZJ11cbiAgdGltZW91dDogU2Nyb2xsU25hcENvbmZpZ3VyYXRpb25bJ3RpbWVvdXQnXVxuICBkdXJhdGlvbjogU2Nyb2xsU25hcENvbmZpZ3VyYXRpb25bJ2R1cmF0aW9uJ11cbiAgdGhyZXNob2xkOiBTY3JvbGxTbmFwQ29uZmlndXJhdGlvblsndGhyZXNob2xkJ11cbiAgZWFzaW5nOiBTY3JvbGxTbmFwQ29uZmlndXJhdGlvblsnZWFzaW5nJ11cbiAgZWxlbWVudDogSFRNTEVsZW1lbnRcbiAgbGlzdGVuZXJFbGVtZW50OiBIVE1MRWxlbWVudCB8IFdpbmRvd1xuICB0YXJnZXQ6IEhUTUxFbGVtZW50XG4gIGFuaW1hdGluZyA9IGZhbHNlXG4gIHByaXZhdGUgb25BbmltYXRpb25FbmQ6ICgpID0+IHZvaWRcbiAgcHJpdmF0ZSBzY3JvbGxIYW5kbGVyVGltZXI6IG51bWJlclxuICBwcml2YXRlIHNjcm9sbFNwZWVkVGltZXI6IG51bWJlclxuICBwcml2YXRlIHNjcm9sbFN0YXJ0OiBDb29yZHNcbiAgcHJpdmF0ZSBzcGVlZERlbHRhWDogbnVtYmVyXG4gIHByaXZhdGUgc3BlZWREZWx0YVk6IG51bWJlclxuICBwcml2YXRlIHNuYXBMZW5ndGhVbml0OiBTbmFwQ29vcmRcbiAgcHJpdmF0ZSBsYXN0U2Nyb2xsVmFsdWU6IENvb3JkcyA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gIH1cbiAgcHJpdmF0ZSBhbmltYXRpb25GcmFtZTogbnVtYmVyXG5cbiAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTEVsZW1lbnQsIGNvbmZpZzogU2Nyb2xsU25hcENvbmZpZ3VyYXRpb24pIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50XG4gICAgY29uc3QgeyB0aW1lb3V0LCBkdXJhdGlvbiwgZWFzaW5nLCBzbmFwRGVzdGluYXRpb25YLCBzbmFwRGVzdGluYXRpb25ZLCB0aHJlc2hvbGQgfSA9IGNvbmZpZ1xuXG4gICAgaWYgKHRpbWVvdXQgJiYgKGlzTmFOKHRpbWVvdXQpIHx8IHR5cGVvZiB0aW1lb3V0ID09PSAnYm9vbGVhbicpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBPcHRpb25hbCBjb25maWcgcHJvcGVydHkgJ3RpbWVvdXQnIGlzIG5vdCB2YWxpZCwgZXhwZWN0ZWQgTlVNQkVSIGJ1dCBmb3VuZCAkeyh0eXBlb2YgdGltZW91dCkudG9VcHBlckNhc2UoKX1gXG4gICAgICApXG4gICAgfVxuICAgIC8vIGFueSB2YWx1ZSBsZXNzIHRoZW4gVElNRU9VVF9NSU4gbWF5IGNhdXNlIHdlaXJkIGJhaGF2aW91ciBvbiBzb21lIGRldmljZXMgKGVzcGVjaWFsbHkgb24gbW9iaWxlIHdpdGggbW9tZW50dW0gc2Nyb2xsaW5nKVxuICAgIHRoaXMudGltZW91dCA9IHRpbWVvdXQgJiYgdGltZW91dCA+PSBUSU1FT1VUX01JTiA/IHRpbWVvdXQgOiBUSU1FT1VUX0RFRkFVTFRcblxuICAgIGlmIChkdXJhdGlvbiAmJiAoaXNOYU4oZHVyYXRpb24pIHx8IHR5cGVvZiBkdXJhdGlvbiA9PT0gJ2Jvb2xlYW4nKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgT3B0aW9uYWwgY29uZmlnIHByb3BlcnR5ICdkdXJhdGlvbicgaXMgbm90IHZhbGlkLCBleHBlY3RlZCBOVU1CRVIgYnV0IGZvdW5kICR7KHR5cGVvZiBkdXJhdGlvbikudG9VcHBlckNhc2UoKX1gXG4gICAgICApXG4gICAgfVxuICAgIHRoaXMuZHVyYXRpb24gPSBkdXJhdGlvbiB8fCBEVVJBVElPTl9ERUZBVUxUXG5cbiAgICBpZiAoZWFzaW5nICYmIHR5cGVvZiBlYXNpbmcgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYE9wdGlvbmFsIGNvbmZpZyBwcm9wZXJ0eSAnZWFzaW5nJyBpcyBub3QgdmFsaWQsIGV4cGVjdGVkIEZVTkNUSU9OIGJ1dCBmb3VuZCAkeyh0eXBlb2YgZWFzaW5nKS50b1VwcGVyQ2FzZSgpfWBcbiAgICAgIClcbiAgICB9XG4gICAgdGhpcy5lYXNpbmcgPSBlYXNpbmcgfHwgRUFTSU5HX0RFRkFVTFRcblxuICAgIGlmIChzbmFwRGVzdGluYXRpb25YICYmIHR5cGVvZiBzbmFwRGVzdGluYXRpb25YICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgT3B0aW9uYWwgY29uZmlnIHByb3BlcnR5ICdzbmFwRGVzdGluYXRpb25YJyBpcyBub3QgdmFsaWQsIGV4cGVjdGVkIFNUUklORyBidXQgZm91bmQgJHsodHlwZW9mIGVhc2luZykudG9VcHBlckNhc2UoKX1gXG4gICAgICApXG4gICAgfVxuICAgIHRoaXMuc25hcERlc3RpbmF0aW9uWCA9IHNuYXBEZXN0aW5hdGlvblhcblxuICAgIGlmIChzbmFwRGVzdGluYXRpb25ZICYmIHR5cGVvZiBzbmFwRGVzdGluYXRpb25ZICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgT3B0aW9uYWwgY29uZmlnIHByb3BlcnR5ICdzbmFwRGVzdGluYXRpb25ZJyBpcyBub3QgdmFsaWQsIGV4cGVjdGVkIFNUUklORyBidXQgZm91bmQgJHsodHlwZW9mIGVhc2luZykudG9VcHBlckNhc2UoKX1gXG4gICAgICApXG4gICAgfVxuXG4gICAgdGhpcy5zbmFwRGVzdGluYXRpb25ZID0gc25hcERlc3RpbmF0aW9uWVxuXG4gICAgaWYgKHRocmVzaG9sZCAmJiAoaXNOYU4odGhyZXNob2xkKSB8fCB0eXBlb2YgdGhyZXNob2xkID09PSAnYm9vbGVhbicpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBPcHRpb25hbCBjb25maWcgcHJvcGVydHkgJ3RocmVzaG9sZCcgaXMgbm90IHZhbGlkLCBleHBlY3RlZCBOVU1CRVIgYnV0IGZvdW5kICR7KHR5cGVvZiB0aHJlc2hvbGQpLnRvVXBwZXJDYXNlKCl9YFxuICAgICAgKVxuICAgIH1cbiAgICB0aGlzLnRocmVzaG9sZCA9IHRocmVzaG9sZCB8fCBUSFJFU0hPTERfREVGQVVMVFxuICB9XG5cbiAgcHJpdmF0ZSBjaGVja1Njcm9sbFNwZWVkKHZhbHVlOiBudW1iZXIsIGF4aXM6ICd4JyB8ICd5Jykge1xuICAgIGNvbnN0IGNsZWFyID0gKCkgPT4ge1xuICAgICAgdGhpcy5sYXN0U2Nyb2xsVmFsdWVbYXhpc10gPSBudWxsXG4gICAgfVxuXG4gICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZVxuICAgIGxldCBkZWx0YVxuXG4gICAgaWYgKHRoaXMubGFzdFNjcm9sbFZhbHVlW2F4aXNdICE9PSBudWxsKSB7XG4gICAgICBkZWx0YSA9IG5ld1ZhbHVlIC0gdGhpcy5sYXN0U2Nyb2xsVmFsdWVbYXhpc11cbiAgICB9IGVsc2Uge1xuICAgICAgZGVsdGEgPSAwXG4gICAgfVxuXG4gICAgdGhpcy5sYXN0U2Nyb2xsVmFsdWVbYXhpc10gPSBuZXdWYWx1ZVxuICAgIHRoaXMuc2Nyb2xsU3BlZWRUaW1lciAmJiBjbGVhclRpbWVvdXQodGhpcy5zY3JvbGxTcGVlZFRpbWVyKVxuICAgIHRoaXMuc2Nyb2xsU3BlZWRUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KGNsZWFyLCAxMDApXG5cbiAgICByZXR1cm4gZGVsdGFcbiAgfVxuXG4gIHByaXZhdGUgc2F2ZURlY2xhcmF0aW9uKG9iajogSFRNTEVsZW1lbnQpIHtcbiAgICB0aGlzLnNuYXBMZW5ndGhVbml0ID0gdGhpcy5wYXJzZVNuYXBDb29yZFZhbHVlKHRoaXMuc25hcERlc3RpbmF0aW9uWCwgdGhpcy5zbmFwRGVzdGluYXRpb25ZKVxuICB9XG5cbiAgcHJpdmF0ZSBiaW5kRWxlbWVudChlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgIHRoaXMudGFyZ2V0ID0gZWxlbWVudFxuICAgIHRoaXMubGlzdGVuZXJFbGVtZW50ID0gZWxlbWVudCA9PT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ID8gd2luZG93IDogZWxlbWVudFxuXG4gICAgdGhpcy5saXN0ZW5lckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zdGFydEFuaW1hdGlvbiwgZmFsc2UpXG4gICAgdGhpcy5zYXZlRGVjbGFyYXRpb24odGhpcy50YXJnZXQpXG4gIH1cblxuICBwcml2YXRlIHVuYmluZEVsZW1lbnQoKSB7XG4gICAgdGhpcy5saXN0ZW5lckVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zdGFydEFuaW1hdGlvbiwgZmFsc2UpXG4gIH1cblxuICBwcml2YXRlIHN0YXJ0QW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIHRoaXMuc3BlZWREZWx0YVggPSB0aGlzLmNoZWNrU2Nyb2xsU3BlZWQodGhpcy50YXJnZXQuc2Nyb2xsTGVmdCwgJ3gnKVxuICAgIHRoaXMuc3BlZWREZWx0YVkgPSB0aGlzLmNoZWNrU2Nyb2xsU3BlZWQodGhpcy50YXJnZXQuc2Nyb2xsVG9wLCAneScpXG5cbiAgICBpZiAodGhpcy5hbmltYXRpbmcgfHwgKHRoaXMuc3BlZWREZWx0YVggPT09IDAgJiYgdGhpcy5zcGVlZERlbHRhWSA9PT0gMCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuaGFuZGxlcih0aGlzLnRhcmdldClcbiAgfVxuXG4gIC8qKlxuICAgKiBzY3JvbGwgaGFuZGxlclxuICAgKiB0aGlzIGlzIHRoZSBjYWxsYmFjayBmb3Igc2Nyb2xsIGV2ZW50cy5cbiAgICovXG4gIHByaXZhdGUgaGFuZGxlcih0YXJnZXQ6IEhUTUxFbGVtZW50KSB7XG4gICAgLy8gaWYgY3VycmVudGx5IGFuaW1hdGluZywgc3RvcCBpdC4gdGhpcyBwcmV2ZW50cyBmbGlja2VyaW5nLlxuICAgIGlmICh0aGlzLmFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5hbmltYXRpb25GcmFtZSlcbiAgICB9XG5cbiAgICAvLyBpZiBhIHByZXZpb3VzIHRpbWVvdXQgZXhpc3RzLCBjbGVhciBpdC5cbiAgICBpZiAodGhpcy5zY3JvbGxIYW5kbGVyVGltZXIpIHtcbiAgICAgIC8vIHdlIG9ubHkgd2FudCB0byBjYWxsIGEgdGltZW91dCBvbmNlIGFmdGVyIHNjcm9sbGluZy4uXG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5zY3JvbGxIYW5kbGVyVGltZXIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2Nyb2xsU3RhcnQgPSB7XG4gICAgICAgIHk6IHRhcmdldC5zY3JvbGxUb3AsXG4gICAgICAgIHg6IHRhcmdldC5zY3JvbGxMZWZ0LFxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc2Nyb2xsSGFuZGxlclRpbWVyID0gd2luZG93LnNldFRpbWVvdXQodGhpcy5hbmltYXRpb25IYW5kbGVyLCB0aGlzLnRpbWVvdXQpXG4gIH1cblxuICBwcml2YXRlIGFuaW1hdGlvbkhhbmRsZXIgPSAoKSA9PiB7XG4gICAgLy8gaWYgd2UgZG9uJ3QgbW92ZSBhIHRoaW5nLCB3ZSBjYW4gaWdub3JlIHRoZSB0aW1lb3V0OiBpZiB3ZSBkaWQsIHRoZXJlJ2QgYmUgYW5vdGhlciB0aW1lb3V0IGFkZGVkIGZvciB0aGlzLnNjcm9sbFN0YXJ0KzEuXG4gICAgaWYgKFxuICAgICAgdGhpcy5zY3JvbGxTdGFydC55ID09PSB0aGlzLnRhcmdldC5zY3JvbGxUb3AgJiZcbiAgICAgIHRoaXMuc2Nyb2xsU3RhcnQueCA9PT0gdGhpcy50YXJnZXQuc2Nyb2xsTGVmdFxuICAgICkge1xuICAgICAgLy8gaWdub3JlIHRpbWVvdXRcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIGRldGVjdCBkaXJlY3Rpb24gb2Ygc2Nyb2xsLiBuZWdhdGl2ZSBpcyB1cCwgcG9zaXRpdmUgaXMgZG93bi5cbiAgICBjb25zdCBkaXJlY3Rpb24gPSB7XG4gICAgICB5OiB0aGlzLnNwZWVkRGVsdGFZID4gMCA/IDEgOiAtMSxcbiAgICAgIHg6IHRoaXMuc3BlZWREZWx0YVggPiAwID8gMSA6IC0xLFxuICAgIH1cblxuICAgIC8vIGdldCB0aGUgbmV4dCBzbmFwLXBvaW50IHRvIHNuYXAtdG9cbiAgICBjb25zdCBzbmFwUG9pbnQgPSB0aGlzLmdldE5leHRTbmFwUG9pbnQodGhpcy50YXJnZXQsIGRpcmVjdGlvbilcblxuICAgIHRoaXMubGlzdGVuZXJFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc3RhcnRBbmltYXRpb24sIGZhbHNlKVxuXG4gICAgdGhpcy5hbmltYXRpbmcgPSB0cnVlXG5cbiAgICAvLyBzbW9vdGhseSBtb3ZlIHRvIHRoZSBzbmFwIHBvaW50XG4gICAgdGhpcy5zbW9vdGhTY3JvbGwodGhpcy50YXJnZXQsIHNuYXBQb2ludCwgKCkgPT4ge1xuICAgICAgLy8gYWZ0ZXIgbW92aW5nIHRvIHRoZSBzbmFwIHBvaW50LCByZWJpbmQgdGhlIHNjcm9sbCBldmVudCBoYW5kbGVyXG4gICAgICB0aGlzLmFuaW1hdGluZyA9IGZhbHNlXG4gICAgICB0aGlzLmxpc3RlbmVyRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnN0YXJ0QW5pbWF0aW9uLCBmYWxzZSlcbiAgICAgIHRoaXMub25BbmltYXRpb25FbmQoKVxuICAgIH0pXG5cbiAgICAvLyB3ZSBqdXN0IGp1bXBlZCB0byB0aGUgc25hcFBvaW50LCBzbyB0aGlzIHdpbGwgYmUgb3VyIG5leHQgdGhpcy5zY3JvbGxTdGFydFxuICAgIGlmICghaXNOYU4oc25hcFBvaW50LngpIHx8ICFpc05hTihzbmFwUG9pbnQueSkpIHtcbiAgICAgIHRoaXMuc2Nyb2xsU3RhcnQgPSBzbmFwUG9pbnRcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldE5leHRTbmFwUG9pbnQodGFyZ2V0OiBIVE1MRWxlbWVudCwgZGlyZWN0aW9uOiBDb29yZHMpIHtcbiAgICAvLyBnZXQgc25hcCBsZW5ndGhcbiAgICBjb25zdCBzbmFwTGVuZ3RoID0ge1xuICAgICAgeTogTWF0aC5yb3VuZCh0aGlzLmdldFlTbmFwTGVuZ3RoKHRoaXMudGFyZ2V0LCB0aGlzLnNuYXBMZW5ndGhVbml0LnkpKSxcbiAgICAgIHg6IE1hdGgucm91bmQodGhpcy5nZXRYU25hcExlbmd0aCh0aGlzLnRhcmdldCwgdGhpcy5zbmFwTGVuZ3RoVW5pdC54KSksXG4gICAgfVxuICAgIGNvbnN0IHRvcCA9IHRoaXMudGFyZ2V0LnNjcm9sbFRvcFxuICAgIGNvbnN0IGxlZnQgPSB0aGlzLnRhcmdldC5zY3JvbGxMZWZ0XG5cbiAgICAvLyBjYWxjIGN1cnJlbnQgYW5kIGluaXRpYWwgc25hcHBvaW50XG4gICAgY29uc3QgY3VycmVudFBvaW50ID0ge1xuICAgICAgeTogdG9wIC8gc25hcExlbmd0aC55IHx8IDEsXG4gICAgICB4OiBsZWZ0IC8gc25hcExlbmd0aC54IHx8IDEsXG4gICAgfVxuICAgIGNvbnN0IG5leHRQb2ludCA9IHtcbiAgICAgIHk6IDAsXG4gICAgICB4OiAwLFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0YXJnZXQgYW5kIGJvdW5kcyBieSBkaXJlY3Rpb24sXG4gICAgICogaWYgdGhyZXNob2xkIGhhcyBub3QgYmVlbiByZWFjaGVkLCBzY3JvbGwgYmFjayB0byBjdXJyZW50UG9pbnRcbiAgICAgKiovXG4gICAgaWYgKHRoaXMuaXNBYm92ZVRocmVzaG9sZChkaXJlY3Rpb24ueSwgY3VycmVudFBvaW50LnkpKSB7XG4gICAgICBuZXh0UG9pbnQueSA9IHRoaXMucm91bmRCeURpcmVjdGlvbihkaXJlY3Rpb24ueSwgY3VycmVudFBvaW50LnkpXG4gICAgfSBlbHNlIHtcbiAgICAgIG5leHRQb2ludC55ID0gdGhpcy5yb3VuZEJ5RGlyZWN0aW9uKGRpcmVjdGlvbi55ICogLTEsIGN1cnJlbnRQb2ludC55KVxuICAgIH1cblxuICAgIGlmICh0aGlzLmlzQWJvdmVUaHJlc2hvbGQoZGlyZWN0aW9uLngsIGN1cnJlbnRQb2ludC54KSkge1xuICAgICAgbmV4dFBvaW50LnggPSB0aGlzLnJvdW5kQnlEaXJlY3Rpb24oZGlyZWN0aW9uLngsIGN1cnJlbnRQb2ludC54KVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXh0UG9pbnQueCA9IHRoaXMucm91bmRCeURpcmVjdGlvbihkaXJlY3Rpb24ueCAqIC0xLCBjdXJyZW50UG9pbnQueClcbiAgICB9XG5cbiAgICAvLyBjYWxjdWxhdGUgd2hlcmUgdG8gc2Nyb2xsXG4gICAgY29uc3Qgc2Nyb2xsVG8gPSB7XG4gICAgICB5OiBuZXh0UG9pbnQueSAqIHNuYXBMZW5ndGgueSxcbiAgICAgIHg6IG5leHRQb2ludC54ICogc25hcExlbmd0aC54LFxuICAgIH1cblxuICAgIC8vIHN0YXkgaW4gYm91bmRzIChtaW5pbXVtOiAwLCBtYXhtaW11bTogYWJzb2x1dGUgaGVpZ2h0KVxuICAgIHNjcm9sbFRvLnkgPSB0aGlzLnN0YXlJbkJvdW5kcygwLCB0YXJnZXQuc2Nyb2xsSGVpZ2h0LCBzY3JvbGxUby55KVxuICAgIHNjcm9sbFRvLnggPSB0aGlzLnN0YXlJbkJvdW5kcygwLCB0YXJnZXQuc2Nyb2xsV2lkdGgsIHNjcm9sbFRvLngpXG5cbiAgICByZXR1cm4gc2Nyb2xsVG9cbiAgfVxuXG4gIHByaXZhdGUgaXNBYm92ZVRocmVzaG9sZChkaXJlY3Rpb246IG51bWJlciwgY3VycmVudFBvaW50OiBudW1iZXIpIHtcbiAgICByZXR1cm4gZGlyZWN0aW9uID4gMFxuICAgICAgPyBjdXJyZW50UG9pbnQgJSAxID4gdGhpcy50aHJlc2hvbGRcbiAgICAgIDogMSAtIChjdXJyZW50UG9pbnQgJSAxKSA+IHRoaXMudGhyZXNob2xkXG4gIH1cblxuICBwcml2YXRlIHJvdW5kQnlEaXJlY3Rpb24oZGlyZWN0aW9uOiBudW1iZXIsIGN1cnJlbnRQb2ludDogbnVtYmVyKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gLTEpIHtcbiAgICAgIC8vIHdoZW4gd2UgZ28gdXAsIHdlIGZsb29yIHRoZSBudW1iZXIgdG8ganVtcCB0byB0aGUgbmV4dCBzbmFwLXBvaW50IGluIHNjcm9sbCBkaXJlY3Rpb25cbiAgICAgIHJldHVybiBNYXRoLmZsb29yKGN1cnJlbnRQb2ludClcbiAgICB9XG4gICAgLy8gZ28gZG93biwgd2UgY2VpbCB0aGUgbnVtYmVyIHRvIGp1bXAgdG8gdGhlIG5leHQgaW4gdmlldy5cbiAgICByZXR1cm4gTWF0aC5jZWlsKGN1cnJlbnRQb2ludClcbiAgfVxuXG4gIHByaXZhdGUgc3RheUluQm91bmRzKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgZGVzdGluZWQ6IG51bWJlcikge1xuICAgIHJldHVybiBNYXRoLm1heChNYXRoLm1pbihkZXN0aW5lZCwgbWF4KSwgbWluKVxuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZVNuYXBDb29yZFZhbHVlKHg6IHN0cmluZywgeTogc3RyaW5nKSB7XG4gICAgLy8gcmVnZXggdG8gcGFyc2UgbGVuZ3Roc1xuICAgIGNvbnN0IHJlZ2V4ID0gLyhcXGQrKShweHwlfHZ3fHZoKS9cbiAgICAvLyBkZWZhdWx0c1xuICAgIGNvbnN0IHBhcnNlZCA9IHtcbiAgICAgIHk6IHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIHVuaXQ6ICdweCcsXG4gICAgICB9LFxuICAgICAgeDoge1xuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgdW5pdDogJ3B4JyxcbiAgICAgIH0sXG4gICAgfVxuXG4gICAgLy8gcGFyc2UgdmFsdWUgYW5kIHVuaXRcbiAgICBjb25zdCByZXN1bHRYID0gcmVnZXguZXhlYyh4KVxuICAgIGNvbnN0IHJlc3VsdFkgPSByZWdleC5leGVjKHkpXG5cbiAgICAvLyBpZiByZWdleHAgZmFpbHMsIHZhbHVlIGlzIG51bGxcbiAgICBpZiAocmVzdWx0WCAhPT0gbnVsbCkge1xuICAgICAgcGFyc2VkLnggPSB7XG4gICAgICAgIHZhbHVlOiBOdW1iZXIocmVzdWx0WFsxXSksXG4gICAgICAgIHVuaXQ6IHJlc3VsdFhbMl0sXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChyZXN1bHRZICE9PSBudWxsKSB7XG4gICAgICBwYXJzZWQueSA9IHtcbiAgICAgICAgdmFsdWU6IE51bWJlcihyZXN1bHRZWzFdKSxcbiAgICAgICAgdW5pdDogcmVzdWx0WVsyXSxcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VkXG4gIH1cblxuICBwcml2YXRlIGdldFlTbmFwTGVuZ3RoKG9iajogSFRNTEVsZW1lbnQsIGRlY2xhcmF0aW9uOiBTbmFwTGVuZ3RoKSB7XG4gICAgaWYgKGRlY2xhcmF0aW9uLnVuaXQgPT09ICd2aCcpIHtcbiAgICAgIC8vIHdoZW4gdXNpbmcgdmgsIG9uZSBzbmFwIGlzIHRoZSBsZW5ndGggb2YgdmggLyAxMDAgKiB2YWx1ZVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgKE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCB8fCAxKSAvIDEwMCkgKlxuICAgICAgICBkZWNsYXJhdGlvbi52YWx1ZVxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoZGVjbGFyYXRpb24udW5pdCA9PT0gJyUnKSB7XG4gICAgICAvLyB3aGVuIHVzaW5nICUsIG9uZSBzbmFwIGlzIHRoZSBsZW5ndGggb2YgZWxlbWVudCBoZWlnaHQgLyAxMDAgKiB2YWx1ZVxuICAgICAgcmV0dXJuIChvYmouY2xpZW50SGVpZ2h0IC8gMTAwKSAqIGRlY2xhcmF0aW9uLnZhbHVlXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHdoZW4gdXNpbmcgcHgsIG9uZSBzbmFwIGlzIHRoZSBsZW5ndGggb2YgZWxlbWVudCBoZWlnaHQgLyB2YWx1ZVxuICAgICAgcmV0dXJuIG9iai5jbGllbnRIZWlnaHQgLyBkZWNsYXJhdGlvbi52YWx1ZVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0WFNuYXBMZW5ndGgob2JqOiBIVE1MRWxlbWVudCwgZGVjbGFyYXRpb246IFNuYXBMZW5ndGgpIHtcbiAgICBpZiAoZGVjbGFyYXRpb24udW5pdCA9PT0gJ3Z3Jykge1xuICAgICAgLy8gd2hlbiB1c2luZyB2dywgb25lIHNuYXAgaXMgdGhlIGxlbmd0aCBvZiB2dyAvIDEwMCAqIHZhbHVlXG4gICAgICByZXR1cm4gKFxuICAgICAgICAoTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLCB3aW5kb3cuaW5uZXJXaWR0aCB8fCAxKSAvIDEwMCkgKlxuICAgICAgICBkZWNsYXJhdGlvbi52YWx1ZVxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoZGVjbGFyYXRpb24udW5pdCA9PT0gJyUnKSB7XG4gICAgICAvLyB3aGVuIHVzaW5nICUsIG9uZSBzbmFwIGlzIHRoZSBsZW5ndGggb2YgZWxlbWVudCB3aWR0aCAvIDEwMCAqIHZhbHVlXG4gICAgICByZXR1cm4gKG9iai5jbGllbnRXaWR0aCAvIDEwMCkgKiBkZWNsYXJhdGlvbi52YWx1ZVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB3aGVuIHVzaW5nIHB4LCBvbmUgc25hcCBpcyB0aGUgbGVuZ3RoIG9mIGVsZW1lbnQgd2lkdGggLyB2YWx1ZVxuICAgICAgcmV0dXJuIG9iai5jbGllbnRXaWR0aCAvIGRlY2xhcmF0aW9uLnZhbHVlXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpc0VkZ2UoY29vcmRzOiBDb29yZHMpIHtcbiAgICByZXR1cm4gKGNvb3Jkcy54ID09PSAwICYmIHRoaXMuc3BlZWREZWx0YVkgPT09IDApIHx8IChjb29yZHMueSA9PT0gMCAmJiB0aGlzLnNwZWVkRGVsdGFYID09PSAwKVxuICB9XG5cbiAgcHJpdmF0ZSBzbW9vdGhTY3JvbGwob2JqOiBIVE1MRWxlbWVudCwgZW5kOiBDb29yZHMsIGNhbGxiYWNrOiAoLi4uYXJnczogYW55KSA9PiB2b2lkKSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSAoc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIsIGVsYXBzZWQ6IG51bWJlciwgZHVyYXRpb246IG51bWJlcikgPT4ge1xuICAgICAgaWYgKGVsYXBzZWQgPiBkdXJhdGlvbikge1xuICAgICAgICByZXR1cm4gZW5kXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdGFydCArIChlbmQgLSBzdGFydCkgKiB0aGlzLmVhc2luZyhlbGFwc2VkIC8gZHVyYXRpb24pXG4gICAgfVxuXG4gICAgY29uc3Qgc3RhcnQgPSB7XG4gICAgICB5OiBvYmouc2Nyb2xsVG9wLFxuICAgICAgeDogb2JqLnNjcm9sbExlZnQsXG4gICAgfVxuXG4gICAgLy8gZ2V0IGFuaW1hdGlvbiBmcmFtZSBvciBhIGZhbGxiYWNrXG4gICAgY29uc3QgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID1cbiAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoZm4sIDE1KVxuICAgICAgfVxuICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy5pc0VkZ2Uoc3RhcnQpID8gMCA6IHRoaXMuZHVyYXRpb25cbiAgICBsZXQgc3RhcnRUaW1lOiBudW1iZXJcblxuICAgIC8vIHNldHVwIHRoZSBzdGVwcGluZyBmdW5jdGlvblxuICAgIGZ1bmN0aW9uIHN0ZXAodGltZXN0YW1wOiBudW1iZXIpIHtcbiAgICAgIGlmICghc3RhcnRUaW1lKSB7XG4gICAgICAgIHN0YXJ0VGltZSA9IHRpbWVzdGFtcFxuICAgICAgfVxuICAgICAgY29uc3QgZWxhcHNlZCA9IHRpbWVzdGFtcCAtIHN0YXJ0VGltZVxuXG4gICAgICAvLyBjaGFuZ2UgcG9zaXRpb24gb24geS1heGlzIGlmIHJlc3VsdCBpcyBhIG51bWJlci5cbiAgICAgIGlmICghaXNOYU4oZW5kLnkpKSB7XG4gICAgICAgIG9iai5zY3JvbGxUb3AgPSBwb3NpdGlvbihzdGFydC55LCBlbmQueSwgZWxhcHNlZCwgZHVyYXRpb24pXG4gICAgICB9XG5cbiAgICAgIC8vIGNoYW5nZSBwb3NpdGlvbiBvbiB4LWF4aXMgaWYgcmVzdWx0IGlzIGEgbnVtYmVyLlxuICAgICAgaWYgKCFpc05hTihlbmQueCkpIHtcbiAgICAgICAgb2JqLnNjcm9sbExlZnQgPSBwb3NpdGlvbihzdGFydC54LCBlbmQueCwgZWxhcHNlZCwgZHVyYXRpb24pXG4gICAgICB9XG5cbiAgICAgIC8vIGNoZWNrIGlmIHdlIGFyZSBvdmVyIGR1ZTtcbiAgICAgIGlmIChlbGFwc2VkIDwgZHVyYXRpb24pIHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpcyB0aGVyZSBhIGNhbGxiYWNrP1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgLy8gc3RvcCBleGVjdXRpb24gYW5kIHJ1biB0aGUgY2FsbGJhY2tcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZW5kKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcClcbiAgfVxuXG4gIGJpbmQoY2FsbGJhY2s/OiAoKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5vbkFuaW1hdGlvbkVuZCA9IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyA/IGNhbGxiYWNrIDogTk9PUFxuICAgIHRoaXMuYmluZEVsZW1lbnQodGhpcy5lbGVtZW50KVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICB1bmJpbmQoKSB7XG4gICAgdGhpcy51bmJpbmRFbGVtZW50KClcbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n")}])}));